# CitrineChallenge
Submission for the Citrine Coding Challenge

## Installation
This program was written to run with Python 3.6.3 (with Anaconda). The only external dependency, other than the provided Constraint file, is NumPy, which can be installed with “<code>pip3 install numpy</code>” (or other Python library install processes). 

Once installed, the program can be run with "<code>python3 sampler.py input.txt output.txt n_results</code>".

## Problem 
Identify valid regions of high-dimensional unit hypercube with hidden constraints. 

## Solution 
My solution to this problem works in three main steps: finding edges of the valid domain, examining the interior of the domain, and selecting representative points. The solution produces valid output for all of the example cases provided, as well as a test case I wrote myself that contained both linear and polynomial separators. In terms of computational complexity, the edge detection and interior examination are O(2^d * n) and the identification of representative points is O(n^2). The program consistently executed in under one minute on my computer, with test cases of lower dimensionality completing more quickly than those of higher dimensionality. 

Edge detection was done via a modified bisection search. For each pair of points where one is valid (obeys the constraints) and the other is invalid (violates the constraints), there must be a point on the line between them where the validity changes. I assume, for the purposes of this problem, that there is a region within the unit hypercube that does not obey the constraints (if this is not the case, then it is difficult to identify invalid input without randomly picking points until one violates the constraints). As such, there must be a point along the boundaries of the hypercube (here evaluated at the corners), where the constraints are violated. I checked every corner (a n-dimensional hypercube has 2^n corners) against the constraints. Lines were then drawn between the provided example point (which is guaranteed to be a valid point) and all invalid corners. This will produce between 1 (worst case) and 2^n (best case) new points on the edge of the valid region. A random point on the unit hypercube is then selected until a valid point is found, and the process is repeated. If the randomly selected point fails to be valid more than 20 times, the program then begins to randomly select points from within the bounding box (a hypercube defined by the minimum and maximum value along each axis among valid points); this is much more likely to produce valid points, as most systems of polynomial separators will have well-connected regions (e.g. the valid region will not have holes). 

Once 4000 valid points have been selected, the program moves onto the next step, which is populating the interior of the valid region with points. This is done both to confirm validity of the region identified by the edges, but also to distribute the file output across the entire region, rather than just the edges. The program generates random points within the bounding box until it has generated 1000 valid points inside the region. (It is possible to do this more intelligently in problems with low-dimensionality with methods such as Voronoi diagrams, but such optimization scaled poorly into the higher dimension test cases such as the [alloy.txt] case.)

Equipped with about 4000 points near the edge of the valid region and 1000 points within the interior of the valid region, the program tries to identify a set of representative points to report. To do this, the program calculates the distance between each valid point and the closest invalid point. For a reporting value of 1000 points, it then selected the 500 valid points with the lowest distance to an invalid point, and the 500 valid points with the highest distance to an invalid point; these selections generally corresponded to points along the edge of the region and points in the interior of the region, respectively. Plotting the produced output for 2-dimensional test cases (or slices of the produced output for test cases of higher dimensionality) confirmed that this distribution of points captured a significant portion of the valid space.  

